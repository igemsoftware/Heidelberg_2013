

</div>

        {{ form.non_field_errors }}

        <div class="row">
          <div class="span3">
                   <div class="fieldWrapper">
            {{ form.origin.errors }}
            <label for="id_subject"></label>
            <div id="originChosenWrapper" class = "chosenWrapper">
              {{ form.origin }} <br/>
            </div>
            </div>
            <div class="fieldWrapper">
              {{ form.dnaSequence.errors }}
              <label for="id_dnaSequence">Please enter DNA sequence: <br/> </label>
              {{ form.dnaSequence }} <br/>
              <div class="btn-group">
                <input type="button" class="btn" onclick="submitPfam()" value="Send to Pfam!"/>

                <input type="button" class="btn" id="clear" value="Clear!"/>
              </div>

            </div>
          </div>

          <div class="span3">
<a href="{% url 'addOrigin' %}" role="button" class="btn btn-link" data-toggle="modal"  data-target="#myModal">   Or add new Origin</a>

<div class="modal fade" id="myModal"></div>



            <div class="fieldWrapper">
              {{ form.geneName.errors }}
              <label for="id_message">Gene Name:<br/> </label>
              {{ form.geneName }}
            </div>
            <div class="fieldWrapper">
              {{ form.description.errors }}
              <label for="id_sender">Description:<br/> </label>
              {{ form.description }}
            </div>
          </div>
        </div>


<script type="text/javascript">
// code from http://blog.assimov.net/blog/2012/03/09/ajax-content-in-twitter-bootstrap-modal/ 
// adapted from coffeescript to javascript
// enables use of Bootstrap modal to load other html pages
    jQuery("a[data-toggle=modal]").click(function() {
  var target, url;
  target = jQuery(this).attr('data-target');
  url = jQuery(this).attr('href');
  return jQuery(target).load(url);
});







        jQuery(document).ready(function() {
          jQuery('#originChosenWrapper > select > option').filter(':first').html('');
          jQuery('#originChosenWrapper').children().select2({placeholder: "Choose existing"});

        });


    function generateDomainForm(){
      jQuery.post("{% url 'makeConstruct' pid %}").done(activateTabs);
    }

    function activateTabs(data){
        console.log(data);
        data = jQuery.parseJSON(data);
        constructId =  data["constructId"];
        if (constructId != 0) {
       jQuery("#primerTab").attr("href", data["primerTabLink"]);
       jQuery("#constructTab").attr("href", data["designTabLink"]);
       jQuery("#domainSequenceTab").attr("href", data["domainSequenceTabLink"]);
       jQuery("#tabs").tabs("enable",1);
       jQuery("#tabs").tabs("enable",2);
       jQuery("#tabs").tabs("enable",3);
        } else {
            alert("ERROR");
        }
    }

</script>